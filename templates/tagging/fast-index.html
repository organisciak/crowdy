<form name="forms.turkForm" method="POST" novalidate>

<tagging-instructions class="instructions" ng-controller="instructionsController"></tagging-instructions>
<a ng-click="pushStagedTask()">Push Task</a>

<div panel panel-default ng-show="phase === 'instructions'">
Are you ready to start? Remember, you have <span class="timer">60</span> seconds.
<button type="button" class="btn btn-primary" ng-click="nextPhase()">START</button>
</div>

<div class="row itemgrid">
	<tag-item ng-show="$last" 
		class="col-md-12 col-sm-12 col-xs-12" 
		ng-class="{'half-opacity':condition==='fast' && phase !=='tasks'}"
		ng-repeat="item in taskset.tasks" 
		ng-controller='tagTaskItemController'></tag-item>
</div>


<!-- START FEEDBACK -->
<div class="row" ng-show="!preview">
    <feedback-form ng-controller='feedbackCtrl'></feedback-form> 
</div>

<!-- END FEEDBACK -->

<!-- START SUBMIT -->
<div class="row">
	<alert type='warning' ng-show="turkForm.$submitted && !turkForm.$valid"> Sorry but {{turkForm.$error.required.length}} errors exist above. Please fix and resubmit. </alert>
	<input type="hidden" name="assignmentId" id="myAssignmentId" value="{{assignmentId}}" />
 <input id="submitButton" type="submit" name="submit" 
 class="btn btn-primary" 
 ng-click="submitForm($event)"
 ng-disabled="(turkForm.$submitted && !turkForm.$valid || !!($root.error)) || preview" 
 ng-value="preview ? 'Previewing' : 'Submit'" />
</div>
<span ng-show="debug"><strong>DEBUG: data: </strong><pre>{{taskset | json: 4 }}</pre></span>
</div>
<!-- END SUBMIT-->
</form>

<span ng-show="debug"><strong>DEBUG: data: </strong><pre>{{taskset | json: 4 }}</pre></span>
</div>
<!-- END SUBMIT-->
</form>

<!-- TURK SUBMISSION FORM, because ng-submit and action don't mix -->
<form name='forms.turkHiddenForm' method="POST" id='turkHiddenForm' action={{formSubmitTo}}>
<input type="hidden" name="assignmentId" id="myAssignmentId" value="{{assignmentId}}" />
<input type="hidden" name="test" value="{{ taskset | json }}" />
</form>
